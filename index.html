<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#2563eb">
    <title>India Salary Calculator</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
    <!-- App Bar -->
    <div class="app-bar">
        <h1 class="app-title">Salary Calculator</h1>
        <button id="themeToggle" class="icon-btn" aria-label="Toggle dark mode">
            <span class="sun">‚òÄÔ∏è</span>
            <span class="moon">üåô</span>
        </button>
    </div>

    <!-- Main Content -->
    <main class="app-content">
        <!-- Basic Calculator Tab -->
        <div id="basic-tab" class="tab-content active">
            <div class="card">
                <h2 class="card-title">Salary Details</h2>

                <div class="form-group">
                    <label for="annualCTC">Annual CTC (‚Çπ)</label>
                    <input type="number" id="annualCTC" placeholder="e.g., 1200000" value="1200000" min="0">
                </div>

                <div class="form-group">
                    <label>Basic Salary</label>
                    <div class="radio-group-compact">
                        <label class="radio-option">
                            <input type="radio" name="basicType" value="percentage" checked>
                            <span>% of CTC</span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="basicType" value="absolute">
                            <span>Fixed Amount</span>
                        </label>
                    </div>
                    <input type="number" id="basicPercentage" placeholder="40" value="40" min="0" max="100">
                    <input type="number" id="basicAbsolute" placeholder="480000" style="display:none;" min="0">
                </div>

                <div class="form-group">
                    <label for="variablePay">Variable Pay / Bonus (‚Çπ)</label>
                    <input type="number" id="variablePay" placeholder="0" value="0" min="0">
                    <label class="checkbox-label">
                        <input type="checkbox" id="includeVariableMonthly">
                        <span>Include in monthly calculation</span>
                    </label>
                </div>
            </div>

            <div class="card">
                <h2 class="card-title">Location</h2>

                <div class="form-group">
                    <label for="cityType">City Type</label>
                    <select id="cityType">
                        <option value="metro">Metro City</option>
                        <option value="non-metro">Non-Metro</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="state">State</label>
                    <select id="state">
                        <option value="maharashtra">Maharashtra</option>
                        <option value="karnataka">Karnataka</option>
                        <option value="west-bengal">West Bengal</option>
                        <option value="tamil-nadu">Tamil Nadu</option>
                        <option value="telangana">Telangana</option>
                        <option value="andhra-pradesh">Andhra Pradesh</option>
                        <option value="gujarat">Gujarat</option>
                        <option value="kerala">Kerala</option>
                        <option value="madhya-pradesh">Madhya Pradesh</option>
                        <option value="delhi">Delhi</option>
                        <option value="uttar-pradesh">Uttar Pradesh</option>
                        <option value="punjab">Punjab</option>
                        <option value="haryana">Haryana</option>
                        <option value="rajasthan">Rajasthan</option>
                        <option value="other">Other</option>
                    </select>
                </div>
            </div>

            <button id="calculateBtn" class="btn-primary btn-large">Calculate Salary</button>

            <!-- Results Section -->
            <div id="results" style="display:none;">
                <div class="card highlight-card">
                    <h2 class="card-title">Your Monthly In-Hand</h2>
                    <div class="salary-display">
                        <span class="currency">‚Çπ</span>
                        <span id="monthlyInHand" class="amount">0</span>
                    </div>
                    <div class="salary-breakdown-quick">
                        <div class="breakdown-item">
                            <span>Annual Take-Home</span>
                            <strong id="annualInHand">‚Çπ0</strong>
                        </div>
                        <div class="breakdown-item">
                            <span>Effective Tax Rate</span>
                            <strong id="effectiveTaxRate">0%</strong>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h2 class="card-title">Monthly Breakdown</h2>
                    <div class="breakdown-list">
                        <div class="breakdown-row">
                            <span>Basic Salary</span>
                            <strong id="monthlyBasic">‚Çπ0</strong>
                        </div>
                        <div class="breakdown-row">
                            <span>HRA</span>
                            <strong id="monthlyHRA">‚Çπ0</strong>
                        </div>
                        <div class="breakdown-row">
                            <span>Special Allowance</span>
                            <strong id="monthlySpecial">‚Çπ0</strong>
                        </div>
                        <div class="breakdown-row" style="border-top: 2px solid var(--border-color); padding-top: 12px;">
                            <span><strong>Gross Monthly</strong></span>
                            <strong id="grossMonthly">‚Çπ0</strong>
                        </div>
                        <div class="breakdown-row deduction">
                            <span>EPF (Employee)</span>
                            <strong id="monthlyPF">-‚Çπ0</strong>
                        </div>
                        <div class="breakdown-row deduction" id="monthlyESIRow" style="display:none;">
                            <span>ESI (Employee)</span>
                            <strong id="monthlyESIAmount">-‚Çπ0</strong>
                        </div>
                        <div class="breakdown-row deduction">
                            <span>Professional Tax</span>
                            <strong id="monthlyPT">-‚Çπ0</strong>
                        </div>
                        <div class="breakdown-row deduction">
                            <span>Income Tax (TDS)</span>
                            <strong id="monthlyTax">-‚Çπ0</strong>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h2 class="card-title">Annual Breakdown</h2>
                    <div class="breakdown-list">
                        <div class="breakdown-row">
                            <span>Annual CTC</span>
                            <strong id="displayCTC">‚Çπ0</strong>
                        </div>
                        <div class="breakdown-row">
                            <span>Basic Salary</span>
                            <strong id="displayBasic">‚Çπ0</strong>
                        </div>
                        <div class="breakdown-row">
                            <span>HRA</span>
                            <strong id="displayHRA">‚Çπ0</strong>
                        </div>
                        <div class="breakdown-row">
                            <span>Other Allowances</span>
                            <strong id="displayOtherAllowances">‚Çπ0</strong>
                        </div>
                        <div class="breakdown-row deduction">
                            <span>EPF (12%)</span>
                            <strong id="displayEPF">-‚Çπ0</strong>
                        </div>
                        <div class="breakdown-row deduction">
                            <span>Professional Tax</span>
                            <strong id="displayPT">-‚Çπ0</strong>
                        </div>
                        <div class="breakdown-row deduction">
                            <span>Income Tax (TDS)</span>
                            <strong id="displayTax">-‚Çπ0</strong>
                        </div>
                    </div>
                </div>

                <!-- Tax Comparison -->
                <div id="taxComparisonSection" style="display:none;" class="card">
                    <h2 class="card-title">Tax Regime Comparison</h2>
                    <div class="comparison-grid">
                        <div class="comparison-item">
                            <span class="regime-label">New Regime</span>
                            <div class="tax-amount" id="newRegimeTax">‚Çπ0</div>
                            <small id="newRegimeSaving"></small>
                        </div>
                        <div class="comparison-item">
                            <span class="regime-label">Old Regime</span>
                            <div class="tax-amount" id="oldRegimeTax">‚Çπ0</div>
                            <small id="oldRegimeSaving"></small>
                        </div>
                    </div>
                    <div class="recommendation" id="taxRecommendation"></div>
                </div>

                <!-- Chart -->
                <div class="card">
                    <h2 class="card-title">CTC Breakdown</h2>
                    <div class="chart-container">
                        <canvas id="salaryChart"></canvas>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="action-grid">
                    <button id="shareBtn" class="btn-secondary">üì§ Share</button>
                    <button id="exportPdfBtn" class="btn-secondary">üìÑ Export PDF</button>
                </div>
            </div>
        </div>

        <!-- Tax & Deductions Tab -->
        <div id="tax-tab" class="tab-content">
            <div class="card">
                <h2 class="card-title">Tax Regime</h2>

                <div class="regime-cards">
                    <label class="regime-card">
                        <input type="radio" name="taxRegime" value="new" checked>
                        <div class="regime-content">
                            <strong>New Regime (2025-26)</strong>
                            <small>Standard Deduction: ‚Çπ75,000</small>
                            <small>Rebate up to ‚Çπ12L income</small>
                        </div>
                    </label>
                    <label class="regime-card">
                        <input type="radio" name="taxRegime" value="old">
                        <div class="regime-content">
                            <strong>Old Regime</strong>
                            <small>Standard Deduction: ‚Çπ50,000</small>
                            <small>With Deductions (80C, 80D, HRA)</small>
                        </div>
                    </label>
                </div>
            </div>

            <div class="card">
                <h2 class="card-title">Tax Deductions</h2>
                <p class="text-muted" id="deductionNote">Select Old Regime to use deductions</p>

                <div id="deductionInputs">
                    <div class="form-group">
                        <label for="monthlyRent">Monthly Rent Paid (‚Çπ)</label>
                        <input type="number" id="monthlyRent" placeholder="0" value="0" min="0">
                        <small>For HRA exemption calculation</small>
                    </div>

                    <div class="form-group">
                        <label for="section80C">Section 80C (‚Çπ)</label>
                        <input type="number" id="section80C" placeholder="0" value="0" min="0" max="150000">
                        <small>Max: ‚Çπ1,50,000 (EPF, PPF, ELSS, Insurance)</small>
                    </div>

                    <div class="form-group">
                        <label for="section80D">Health Insurance - 80D (‚Çπ)</label>
                        <input type="number" id="section80D" placeholder="0" value="0" min="0" max="100000">
                        <small>Max: ‚Çπ1,00,000 (Medical insurance premiums)</small>
                    </div>

                    <div class="form-group">
                        <label for="section80CCD1B">NPS - 80CCD(1B) (‚Çπ)</label>
                        <input type="number" id="section80CCD1B" placeholder="0" value="0" min="0" max="50000">
                        <small>Max: ‚Çπ50,000 (Additional NPS contribution)</small>
                    </div>

                    <div class="form-group">
                        <label for="homeLoanInterest">Home Loan Interest - 24(b) (‚Çπ)</label>
                        <input type="number" id="homeLoanInterest" placeholder="0" value="0" min="0" max="200000">
                        <small>Max: ‚Çπ2,00,000 (Self-occupied property)</small>
                    </div>

                    <div class="form-group">
                        <label for="otherDeductions">Other Deductions (‚Çπ)</label>
                        <input type="number" id="otherDeductions" placeholder="0" value="0" min="0">
                        <small>80E, 80G, 80TTA, etc.</small>
                    </div>
                </div>
            </div>

            <div class="card info-card">
                <h3 style="margin-bottom: 12px; font-size: 16px;">üí° Which regime is better?</h3>
                <p class="text-muted">Calculate your salary in the Calculator tab to see personalized tax comparison and recommendation.</p>
            </div>
        </div>

        <!-- Hike & Compare Tab -->
        <div id="compare-tab" class="tab-content">
            <!-- Hike Calculator Section -->
            <div class="card">
                <h2 class="card-title">üìà Salary Hike Calculator</h2>

                <div class="form-group">
                    <label for="currentCTC">Current CTC (‚Çπ)</label>
                    <input type="number" id="currentCTC" placeholder="e.g., 1200000" min="0">
                </div>

                <div class="form-group">
                    <label>Hike Type</label>
                    <div class="radio-group-compact">
                        <label class="radio-option">
                            <input type="radio" name="hikeType" value="percentage" checked>
                            <span>Percentage</span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="hikeType" value="absolute">
                            <span>Fixed Amount</span>
                        </label>
                    </div>
                </div>

                <div class="form-group" id="hikePercentageGroup">
                    <label for="hikePercentage">Hike Percentage (%)</label>
                    <input type="number" id="hikePercentage" placeholder="e.g., 15" min="0">
                </div>

                <div class="form-group" id="hikeAbsoluteGroup" style="display:none;">
                    <label for="hikeAbsolute">Hike Amount (‚Çπ)</label>
                    <input type="number" id="hikeAbsolute" placeholder="e.g., 180000" min="0">
                </div>

                <button id="calculateHikeBtn" class="btn-primary btn-large">Calculate New Salary</button>

                <div id="hikeResults" style="display:none;" class="card highlight-card">
                    <h2 class="card-title">After Hike</h2>
                    <div class="comparison-grid">
                        <div>
                            <small>New CTC</small>
                            <div class="amount-display" id="newCTC">‚Çπ0</div>
                        </div>
                        <div>
                            <small>Monthly In-Hand</small>
                            <div class="amount-display" id="newMonthlyInHand">‚Çπ0</div>
                        </div>
                    </div>
                    <div class="increase-badge" id="increaseAmount">+‚Çπ0/month</div>
                </div>
            </div>

            <!-- Compare Offers Section -->
            <div class="card">
                <h2 class="card-title">‚öñÔ∏è Compare Job Offers</h2>
                <p class="text-muted">Compare up to 3 different salary packages</p>

                <div class="offer-block">
                    <h3 style="font-size: 15px; margin-bottom: 12px; color: var(--text-primary);">Offer 1</h3>
                    <div class="form-group">
                        <label for="company1">Company Name</label>
                        <input type="text" id="company1" placeholder="e.g., Company A">
                    </div>
                    <div class="form-group">
                        <label for="offer1CTC">Annual CTC (‚Çπ)</label>
                        <input type="number" id="offer1CTC" placeholder="e.g., 1200000" min="0">
                    </div>
                    <div class="form-group">
                        <label for="offer1Basic">Basic % of CTC</label>
                        <input type="number" id="offer1Basic" placeholder="40" value="40" min="0" max="100">
                    </div>
                    <div class="form-group">
                        <label for="offer1Variable">Variable Pay (‚Çπ)</label>
                        <input type="number" id="offer1Variable" placeholder="0" value="0" min="0">
                    </div>
                    <div class="form-group">
                        <label for="offer1City">City Type</label>
                        <select id="offer1City">
                            <option value="metro">Metro</option>
                            <option value="non-metro">Non-Metro</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <span class="text-muted">Est. Monthly In-Hand: <strong id="offer1InHand">‚Äî</strong></span>
                    </div>
                </div>

                <div class="offer-block">
                    <h3 style="font-size: 15px; margin-bottom: 12px; color: var(--text-primary);">Offer 2</h3>
                    <div class="form-group">
                        <label for="company2">Company Name</label>
                        <input type="text" id="company2" placeholder="e.g., Company B">
                    </div>
                    <div class="form-group">
                        <label for="offer2CTC">Annual CTC (‚Çπ)</label>
                        <input type="number" id="offer2CTC" placeholder="e.g., 1500000" min="0">
                    </div>
                    <div class="form-group">
                        <label for="offer2Basic">Basic % of CTC</label>
                        <input type="number" id="offer2Basic" placeholder="40" value="40" min="0" max="100">
                    </div>
                    <div class="form-group">
                        <label for="offer2Variable">Variable Pay (‚Çπ)</label>
                        <input type="number" id="offer2Variable" placeholder="0" value="0" min="0">
                    </div>
                    <div class="form-group">
                        <label for="offer2City">City Type</label>
                        <select id="offer2City">
                            <option value="metro">Metro</option>
                            <option value="non-metro">Non-Metro</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <span class="text-muted">Est. Monthly In-Hand: <strong id="offer2InHand">‚Äî</strong></span>
                    </div>
                </div>

                <div class="offer-block">
                    <h3 style="font-size: 15px; margin-bottom: 12px; color: var(--text-primary);">Offer 3 (Optional)</h3>
                    <div class="form-group">
                        <label for="company3">Company Name</label>
                        <input type="text" id="company3" placeholder="e.g., Company C">
                    </div>
                    <div class="form-group">
                        <label for="offer3CTC">Annual CTC (‚Çπ)</label>
                        <input type="number" id="offer3CTC" placeholder="e.g., 1800000" min="0">
                    </div>
                    <div class="form-group">
                        <label for="offer3Basic">Basic % of CTC</label>
                        <input type="number" id="offer3Basic" placeholder="40" value="40" min="0" max="100">
                    </div>
                    <div class="form-group">
                        <label for="offer3Variable">Variable Pay (‚Çπ)</label>
                        <input type="number" id="offer3Variable" placeholder="0" value="0" min="0">
                    </div>
                    <div class="form-group">
                        <label for="offer3City">City Type</label>
                        <select id="offer3City">
                            <option value="metro">Metro</option>
                            <option value="non-metro">Non-Metro</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <span class="text-muted">Est. Monthly In-Hand: <strong id="offer3InHand">‚Äî</strong></span>
                    </div>
                </div>

                <button id="compareOffersBtn" class="btn-primary btn-large">Compare Offers</button>

                <div id="comparisonResults" style="display:none;">
                    <div class="card">
                        <h2 class="card-title">Comparison Results</h2>
                        <div id="comparisonTable"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Reverse Calculator Tab -->
        <div id="reverse-tab" class="tab-content">
            <div class="card">
                <h2 class="card-title">üîÑ Reverse Calculator</h2>
                <p class="text-muted">Find out what CTC you need for your desired in-hand salary</p>

                <div class="form-group">
                    <label for="desiredInHand">Desired Monthly In-Hand (‚Çπ)</label>
                    <input type="number" id="desiredInHand" placeholder="e.g., 75000" min="0">
                </div>

                <div class="form-group">
                    <label for="reverseBasic">Basic Salary (% of CTC)</label>
                    <input type="number" id="reverseBasic" placeholder="40" value="40" min="0" max="100">
                </div>

                <div class="form-group">
                    <label for="reverseCity">City Type</label>
                    <select id="reverseCity">
                        <option value="metro">Metro City</option>
                        <option value="non-metro">Non-Metro</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="reverseState">State</label>
                    <select id="reverseState">
                        <option value="maharashtra">Maharashtra</option>
                        <option value="karnataka">Karnataka</option>
                        <option value="west-bengal">West Bengal</option>
                        <option value="tamil-nadu">Tamil Nadu</option>
                        <option value="telangana">Telangana</option>
                        <option value="andhra-pradesh">Andhra Pradesh</option>
                        <option value="gujarat">Gujarat</option>
                        <option value="kerala">Kerala</option>
                        <option value="madhya-pradesh">Madhya Pradesh</option>
                        <option value="delhi">Delhi</option>
                        <option value="uttar-pradesh">Uttar Pradesh</option>
                        <option value="punjab">Punjab</option>
                        <option value="haryana">Haryana</option>
                        <option value="rajasthan">Rajasthan</option>
                        <option value="other">Other</option>
                    </select>
                </div>

                <button id="calculateReverseBtn" class="btn-primary btn-large">Calculate Required CTC</button>

                <div id="reverseResults" style="display:none;" class="card highlight-card">
                    <h2 class="card-title">Required CTC</h2>
                    <div class="salary-display">
                        <span class="currency">‚Çπ</span>
                        <span id="requiredCTC" class="amount">0</span>
                    </div>
                    <div class="breakdown-list" style="margin-top: 16px; border-top: 1px solid rgba(255,255,255,0.2); padding-top: 16px;">
                        <div class="breakdown-row" style="border-bottom-color: rgba(255,255,255,0.15);">
                            <span style="color: rgba(255,255,255,0.8);">Monthly Gross</span>
                            <strong id="requiredGross" style="color: white;">‚Çπ0</strong>
                        </div>
                        <div class="breakdown-row" style="border-bottom-color: rgba(255,255,255,0.15);">
                            <span style="color: rgba(255,255,255,0.8);">Annual Basic</span>
                            <strong id="reverseBasicAmount" style="color: white;">‚Çπ0</strong>
                        </div>
                        <div class="breakdown-row" style="border-bottom-color: rgba(255,255,255,0.15);">
                            <span style="color: rgba(255,255,255,0.8);">Annual HRA</span>
                            <strong id="reverseHRAAmount" style="color: white;">‚Çπ0</strong>
                        </div>
                        <div class="breakdown-row" style="border-bottom: none;">
                            <span style="color: rgba(255,255,255,0.8);">Other Allowances</span>
                            <strong id="reverseOtherAmount" style="color: white;">‚Çπ0</strong>
                        </div>
                    </div>
                </div>
            </div>

            <!-- How it's calculated -->
            <div class="card info-card">
                <h3 style="margin-bottom: 12px; font-size: 16px;">üí° How it works</h3>
                <p class="text-muted" style="margin-bottom: 8px;">The reverse calculator estimates the CTC needed based on:</p>
                <ul style="margin-left: 20px; color: var(--text-muted); font-size: 14px;">
                    <li>Standard salary structure (40% basic)</li>
                    <li>EPF deductions (12%)</li>
                    <li>Professional tax based on your state</li>
                    <li>Selected tax regime and deductions</li>
                </ul>
            </div>
        </div>
    </main>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <button class="nav-item active" data-tab="basic">
            <span class="nav-icon">üßÆ</span>
            <span class="nav-label">Calculate</span>
        </button>
        <button class="nav-item" data-tab="tax">
            <span class="nav-icon">üìä</span>
            <span class="nav-label">Tax</span>
        </button>
        <button class="nav-item" data-tab="compare">
            <span class="nav-icon">üìà</span>
            <span class="nav-label">Compare</span>
        </button>
        <button class="nav-item" data-tab="reverse">
            <span class="nav-icon">üîÑ</span>
            <span class="nav-label">Reverse</span>
        </button>
    </nav>

    <script src="calculator.js"></script>
</body>
</html>
